define("zxui/lib",[],function(){function generic(e){return function(){return Function.call.apply(e,arguments)}}function fallback(e,t,i){return e?generic(i||e):t}function getCompatElement(e){var t=e&&e.ownerDocument||document,i=t.compatMode;return!i||"CSS1Compat"===i?t.documentElement:t.body}var lib={},toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,typeOf=lib.typeOf=function(e){var t=toString.call(e).slice(8,-1).toLowerCase();return e&&"object"==typeof e&&"nodeType"in e?"dom":null==e?null:t},each=lib.each=fallback(Array.prototype.forEach,function(e,t,i){for(var n=0,r=e.length>>>0;r>n;n++)if(n in e)t.call(i,e[n],n,e)});each(["String","Array","Function","Date","Object"],function(e){var t=e.toLowerCase();lib["function"===t?"fn":t]={},lib["is"+e]=function(t){return null!=t&&toString.call(t).slice(8,-1)===e}}),lib.array.each=each;var map=lib.map=lib.array.map=fallback(Array.prototype.map,function(e,t,i){for(var n=0,r=e.length;r>n;n++)if(n in e)e[n]=t.call(i,e[n],n,e);return e}),indexOf=lib.indexOf=lib.array.indexOf=fallback(Array.prototype.indexOf,function(e,t,i){for(var n=this.length>>>0,r=0>i?Math.max(0,n+i):i||0;n>r;r++)if(e[r]===t)return r;return-1}),slice=lib.slice=lib.array.slice=generic(Array.prototype.slice);lib.toArray=lib.array.toArray=function(e){if(null==e)return[];if(lib.isArray(e))return e;var t=e.length;if("number"==typeof t&&"string"!==typeOf(e)){for(var i=[];t--;)i[t]=e[t];return i}return[e]};var enumerables={valueOf:1}.propertyIsEnumerable("valueOf")?null:["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"],forIn=lib.forIn=lib.object.each=function(e,t){for(var i in e)if(hasOwnProperty.call(e,i))t(e[i],i);if(enumerables)for(var i,n=enumerables.length-1;i=enumerables[n--];)if(hasOwnProperty.call(e,i))t(e[i],i)},extend=lib.extend=lib.object.extend=function(e,t){return forIn(t,function(t,i){if(lib.isObject(e[i]))extend(e[i],t);else e[i]=t}),e},clone=lib.clone=lib.object.clone=function(e){if(!e||"object"!=typeof e)return e;var t=e;if(lib.isArray(e))t=map(slice(e),clone);else if(lib.isObject(e)&&"isPrototypeOf"in e)t={},forIn(e,function(e,i){t[i]=clone(e)});return t};lib.stringify=lib.object.stringify=window.JSON&&JSON.stringify||function(){var e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t=function(t){return e[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)};return function i(e){if(e&&e.toJSON)e=e.toJSON();switch(typeOf(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,t)+'"';case"array":return"["+map(e,i)+"]";case"object":var n=[];return forIn(e,function(e,t){var r=i(e);if(r)n.push(i(t)+":"+r)}),"{"+n+"}";case"number":case"boolean":return""+e;case"null":return"null"}return null}}(),lib.parse=lib.object.parse=window.JSON&&JSON.parse||function(string){return!string||"string"!==typeOf(string)?null:eval("("+string+")")},lib.toQueryString=lib.object=function e(t,i){var n=[];return forIn(t,function(t,r){if(i)r=i+"["+r+"]";var o;switch(typeOf(t)){case"object":o=e(t,r);break;case"array":for(var a={},s=t.length;s--;)a[s]=t[s];o=e(a,r);break;default:o=r+"="+encodeURIComponent(t)}if(null!=t)n.push(o)}),n.join("&")},lib.trim=lib.string.trim=function(){var e=/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g;return function(t,i){return t&&String(t).replace(i||e,"")||""}}(),lib.camelCase=lib.string.camelCase=function(e){return String(e).replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()})},lib.capitalize=lib.string.capitalize=function(e){return String(e).replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},lib.contains=lib.string.contains=function(e,t,i){return i=i||" ",e=i+e+i,t=i+lib.trim(t)+i,e.indexOf(t)>-1},lib.pad=lib.string.pad=function(e,t){var i=String(Math.abs(0|e));return(0>e?"-":"")+(i.length>=t?i:((1<<t-i.length).toString(2)+i).slice(-t))},lib.bind=lib.fn.bind=fallback(Function.bind,function(e,t){var i=arguments.length>2?slice(arguments,1):null,n=function(){},r=function(){var o=t,a=arguments.length;if(this instanceof r)n.prototype=e.prototype,o=new n;var s=!i&&!a?e.call(o):e.apply(o,i&&a?i.concat(slice(arguments)):i||arguments);return o===t?s:o};return r}),lib.binds=lib.fn.binds=function(e,t){if("string"==typeof t)t=~t.indexOf(",")?t.split(/\s*,\s*/):slice(arguments,1);if(t&&t.length)for(var i,n;i=t.pop();)if(n=i&&e[i])e[i]=lib.bind(n,e)};var curry=lib.curry=lib.fn.curry=function(e){var t=slice(arguments,1);return function(){return e.apply(this,t.concat(slice(arguments)))}};!function(){function e(e,i){var n=lib.newClass(),r=function(){};return r.prototype=e.prototype,n.prototype=new r,n.prototype.parent=curry(t,e),n.implement(i),n}function t(e,t){var i=e.prototype[t];if(i)return i.apply(this,slice(arguments,2));throw new Error("parent Class has no method named "+t)}function i(e,t){if(lib.isFunction(t))t=t.prototype;for(var i in t)if(hasOwnProperty.call(t,i))e.prototype[i]=t[i];return e}lib.newClass=function(t,n){if(lib.isObject(t))n=t;var r=function(){var e=this.initialize?this.initialize.apply(this,arguments):this;if(lib.isFunction(t))e=t.apply(this,arguments);return e};return r.prototype=n||{},r.prototype.constructor=r,r.extend=curry(e,r),r.implement=curry(i,r),r}}(),lib.observable={on:function(e,t){if(lib.isFunction(e))t=e,e="*";this._listeners=this._listeners||{};var i=this._listeners[e]||[];if(indexOf(i,t)<0)t.$type=e,i.push(t);return this._listeners[e]=i,this},un:function(e,t){if(lib.isFunction(e))t=e,e="*";this._listeners=this._listeners||{};var i=this._listeners[e];if(i)if(t){var n=indexOf(i,t);if(~n)delete i[n]}else i.length=0,delete this._listeners[e];return this},fire:function(e,t){this._listeners=this._listeners||{};var i=this._listeners[e];if(i)each(i,function(i){t=t||{},t.type=e,i.call(this,t)},this);if("*"!==e)this.fire("*",t);return this}},lib.configurable={setOptions:function(e){if(!e)return clone(this.options);var t=this.options=clone(this.options),i=/^on[A-Z]/,n=this;this.srcOptions=e;var r;for(var o in e)if(hasOwnProperty.call(e,o)){if(r=e[o],i.test(o)&&lib.isFunction(r)){var a=o.charAt(2).toLowerCase()+o.slice(3);n.on(a,r),delete e[o]}else if(o in t)t[o]="object"===typeOf(r)?extend(t[o]||{},r):r}else;return t}};var eventFix={list:[],custom:{}};if(lib.event={},lib.on=lib.event.on=document.addEventListener?function(e,t,i){var n=i,r=eventFix.custom[t],o=t;if(r)o=r.base,n=function(n){if(r.condition.call(e,n,t))n._type=t,i.call(e,n)},i.index=eventFix.list.length,eventFix.list[i.index]=n;return e.addEventListener(o,n,!!arguments[3])}:function(e,t,i){return e.attachEvent("on"+t,i)},lib.un=lib.event.on=document.removeEventListener?function(e,t,i){var n=i,r=eventFix.custom[t],o=t;if(r)o=r.base,n=eventFix.list[i.index],delete eventFix.list[i.index],delete i.index;return e.removeEventListener(o,n,!!arguments[3]),e}:function(e,t,i){return e.detachEvent("on"+t,i),e},lib.fire=lib.event.fire=document.createEvent?function(e,t){var i=eventFix.custom[t],n=t;if(i)n=i.base;var r=document.createEvent("HTMLEvents");return r.initEvent(n,!0,!0),e.dispatchEvent(r),e}:function(e,t){var i=document.createEventObject();return e.fireEvent("on"+t,i),e},lib.getTarget=lib.event.getTarget=function(e){return e=e||window.event,e.target||e.srcElement},lib.preventDefault=lib.event.preventDefault=fallback(window.Event&&Event.prototype.preventDefault,function(){event.returnValue=!1}),lib.stopPropagation=lib.event.stopPropagation=fallback(window.Event&&Event.prototype.stopPropagation,function(){event.cancelBubble=!0}),!("onmouseenter"in document)){var check=function(e){var t=e.relatedTarget;if(null==t)return!0;if(!t)return!1;else return t!==this&&"xul"!==t.prefix&&9!==this.nodeType&&!lib.contains(this,t)};eventFix.custom.mouseenter={base:"mouseover",condition:check},eventFix.custom.mouseleave={base:"mouseout",condition:check}}!function(){var e=/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/,t=navigator.userAgent.toLowerCase().match(e)||[null,"unknown",0],i="ie"===t[1]&&document.documentMode,n=lib.browser={name:"version"===t[1]?t[3]:t[1],version:i||parseFloat("opera"===t[1]&&t[4]?t[4]:t[2])};n[n.name]=0|n.version,n[n.name+(0|n.version)]=!0}(),lib.page={},lib.getScrollLeft=lib.page.getScrollLeft=function(){return window.pageXOffset||getCompatElement().scrollLeft},lib.getScrollTop=lib.page.getScrollTop=function(){return window.pageYOffset||getCompatElement().scrollTop},lib.getViewWidth=lib.page.getViewWidth=function(){return getCompatElement().clientWidth},lib.getViewHeight=lib.page.getViewHeight=function(){return getCompatElement().clientHeight},lib.dom={},lib.g=lib.dom.g=function(e){return"string"===typeOf(e)?document.getElementById(e):e},lib.q=lib.dom.q=document.getElementsByClassName?function(e,t){return slice((t||document).getElementsByClassName(e))}:function(e,t){t=t||document;for(var i=t.getElementsByTagName("*"),n=[],r=0,o=i.length;o>r;r++)if(lib.contains(i[r].className,e))n.push(i[r]);return n},lib.getAncestorBy=lib.dom.getAncestorBy=function(e,t,i){for(;(e=e.parentNode)&&1===e.nodeType;)if(t(e,i))return e;return null},lib.getAncestorByClass=lib.dom.getAncestorByClass=function(e,t){return lib.getAncestorBy(e,lib.hasClass,t)};var hasClassList="classList"in document.documentElement;lib.hasClass=lib.dom.hasClass=hasClassList?function(e,t){return e.classList.contains(t)}:function(e,t){return lib.contains(e.className,t)},lib.addClass=lib.dom.addClass=hasClassList?function(e,t){return e.classList.add(t),e}:function(e,t){if(!lib.hasClass(e,t))e.className+=" "+t;return e},lib.removeClass=lib.dom.removeClass=hasClassList?function(e,t){return e.classList.remove(t),e}:function(e,t){return e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"),e},lib.toggleClass=lib.dom.toggleClass=hasClassList?function(e,t){return e.classList.toggle(t),e}:function(e,t){var i=e.className,n=i&&lib.contains(e,t);return e.className=n?i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"):i+" "+t,e},lib.show=lib.dom.show=function(e,t){return e.style.display=t||"",e},lib.hide=lib.dom.hide=function(e){return e.style.display="none",e},lib.getStyle=lib.dom.getStyle=function(e,t){if(!e)return"";t=lib.camelCase(t);var i=9===e.nodeType?e:e.ownerDocument||e.document;if(i.defaultView&&i.defaultView.getComputedStyle){var n=i.defaultView.getComputedStyle(e,null);if(n)return n[t]||n.getPropertyValue(t)}else if(e&&e.currentStyle)return e.currentStyle[t];return""},lib.getPosition=lib.dom.getPosition=function(e){var t=e.getBoundingClientRect(),i=document.documentElement,n=document.body,r=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,a=window.pageYOffset||i.scrollTop,s=window.pageXOffset||i.scrollLeft;return{left:(0|t.left)+s-o,top:(0|t.top)+a-r}},lib.setStyles=lib.dom.setStyles=function(e,t){for(var i in t)if(hasOwnProperty.call(t,i))e.style[lib.camelCase(i)]=t[i]};var guidCounter=2327;lib.guid=lib.dom.guid=function(e){var t=0|e.getAttribute("data-guid");if(!t)t=guidCounter++,e.setAttribute("data-guid",t);return t};var walk=function(e,t,i,n,r){for(var o=lib.g(e)[i||t],a=[];o;){if(1===o.nodeType&&(!n||n(o))){if(!r)return o;a.push(o)}o=o[t]}return r?a:null};return lib.extend(lib.dom,{previous:function(e,t){return walk(e,"previousSibling",null,t)},next:function(e,t){return walk(e,"nextSibling",null,t)},first:function(e,t){return walk(e,"nextSibling","firstChild",t)},last:function(e,t){return walk(e,"previousSibling","lastChild",t)},children:function(e,t){return walk(e,"nextSibling","firstChild",t,!0)},contains:function(e,t){var i=lib.g;return e=i(e),t=i(t),e.contains?e!==t&&e.contains(t):!!(8&t.compareDocumentPosition(e))}}),lib});